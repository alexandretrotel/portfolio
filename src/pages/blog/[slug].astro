---
import type { CollectionEntry } from "astro:content";
import { getCollection } from "astro:content";
import BlogPostPage from "@/components/pages/blog-post.astro";
import type { BlogCollection } from "@/content.config";

export const getStaticPaths = async () => {
  const posts: CollectionEntry<BlogCollection>[] = await getCollection("blog");
  return posts.map((p) => ({
    params: { slug: p.id },
    props: { post: p },
  }));
};

interface Props {
  post: CollectionEntry<BlogCollection>;
}

const props = Astro.props as Props;
const { post } = props;

export const prerender = true;
---

<BlogPostPage post={post} />
