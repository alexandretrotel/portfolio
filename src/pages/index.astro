---
import { getCollection } from "astro:content";
import ArrowRight from "@lucide/astro/icons/arrow-right";
import Button from "@/components/ui/button.astro";
import { getTranslations } from "@/i18n/translations";
import Layout from "@/layouts/main.astro";

const t = getTranslations("en");

let showBlog = false;
try {
  const blogPosts = await getCollection("blog-en");
  showBlog = blogPosts.length > 0;
} catch {
  showBlog = false;
}
---

<Layout>
  <div class="flex h-full flex-col gap-16">
    <div
      class="flex w-full max-w-xl flex-col gap-6 font-light text-muted-foreground"
    >
      <p class="text-xl">
        {t.home.intro}
        {" "}
        <span class="font-medium text-foreground text-2xl">{t.home.name}</span>
        {
                    t.home.bio
                }
      </p>

      <p class="text-xl">
        {t.home.authorOf}
        {" "}
        <a
          data-astro-prefetch
          class="font-medium text-primary hover:underline text-2xl"
          href="https://www.zapstudio.dev"
          target="_blank"
        >
          {t.home.zapStudio}
        </a>
        {" "}
        {t.home.zapStudioDesc}
      </p>

      {
                showBlog && (
                    <div>
                        <Button
                            variant="ghost"
                            class="active:scale-95 active:bg-accent"
                        >
                            <a
                                data-astro-prefetch
                                class="flex items-center gap-2 font-medium text-primary text-lg"
                                href="/blog"
                            >
                                <ArrowRight size={16} />
                                {t.home.checkBlog}
                            </a>
                        </Button>
                    </div>
                )
            }
    </div>
  </div>
</Layout>
